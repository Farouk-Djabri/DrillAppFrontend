<div class="row justify-content-center">
    <div class="col-md-4 register-employee">
      
      <div class="card-body">
        <h2>Third Phase</h2>
        <div *ngIf="Stage?.previousFinishedStage == true ; else pending">
       
        <div *ngIf="Stage?.CompletedStage == false ; else hide">

        <form [formGroup]="EditThirdStageForm" (ngSubmit)="onSubmit()">
          <div *ngIf="Stage?.initialized == false ; else not" >
            <h3>Initial Date</h3>
            <label for="start">
             Enter the Date:
         </label>
       
         <input type="date" formControlName="initialDate"  useValueAsLocalDate
             >
       
       </div>
       <ng-template #not>
                       
         <h3>Initial Date</h3>
         <label for="start">
          Enter the Date:
      </label>
    
      <input type="date" disabled useValueAsLocalDate
          >
   
</ng-template> 
       <div *ngIf="Stage?.section.isFinished== true && Stage?.casing.state=='completed'; else hideDate ">
         <h3>Final Date</h3>
         <label for="start">
          Enter the Date:
      </label>
    
      <input type="date" formControlName="finalDate"  useValueAsLocalDate
          >
    
    </div>
    <ng-template #hideDate>
                       
     <h3>Final Date</h3>
     <label for="start">
      Enter the Date:
  </label>

  <input type="date" disabled  useValueAsLocalDate
      >

</ng-template>    

          <div formGroupName="casing">
          
       <div>
        <h3>Casing</h3>
    state:   <select formControlName="state" [(ngModel)]='opSelect'>
        
            <option value="pending">pending</option>
            <option value="completed" selected>completed</option>
            </select>
          </div>
          </div>
          <div formGroupName="cementing">
            <h3>Cementing</h3>
        <div>
      state: <select formControlName="state" [(ngModel)]='opSelect2'>
        
            <option value="pending">pending</option>
            <option value="completed" selected>completed</option>
            </select>
          </div>
          
          </div>
          <div formGroupName="section">
            <h3>Drilling Section</h3>
            <div class="form-group" >

              <span *ngIf="Stage?.section.isFinished == true ; else able">
                        
                <h4>the drilling section is completed</h4>
                <label for="inputNumber"  > Acheived Depth</label>
            
                        <input  class="form-control" type="number" disabled />
              
              
              
                      </span>
                      <ng-template #able>
                        
                        <label for="inputNumber"  > Acheived Depth</label>
            
                        <input  class="form-control" type="number" formControlName="depthInProgress" />
              
               </ng-template>       
                      </div>
                      
          </div>
  
   
            <div class="form-group">
            <button class="btn btn-success btn-lg btn-block" type="submit">
              Submit
            </button>
          </div>
        </form>
      </div>
    </div>
    <ng-template #hide>
      <h3>the stage is finished</h3>                  
      
</ng-template>         
</div>
<ng-template #pending>
  <h3>the stage is pending</h3>                  
  
</ng-template>         

  </div>  <!-- form card register -->
  </div>
  